{
  "permissions": {
    "allow": [
      "Bash(bundle config:*)",
      "Bash(git mv:*)",
      "Bash(find:*)",
      "Bash(bundle exec rake test:*)",
      "Bash(bundle exec exe/ptrk version:*)",
      "Bash(git add:*)",
      "Bash(git commit:*)",
      "Bash(bundle exec rake:*)",
      "Bash(bundle install:*)",
      "Bash(bundle exec rubocop:*)",
      "Bash(bundle exec ptrk ci:*)",
      "Bash(bundle exec ptrk build:*)",
      "Bash(bundle exec ptrk:*)",
      "Bash(gh pr view:*)",
      "Bash(gh pr checks:*)",
      "Bash(gh run view:*)",
      "Bash(gh api:*)",
      "Bash(jq '.files[] | select(.filename == \"\"\"\".github/workflows/main.yml\"\"\"\") | .patch' -r)",
      "Bash(git -C /Users/bash/src/picotorokko status)",
      "Bash(curl:*)",
      "Bash(ruby -e:*)",
      "Bash(ruby:*)",
      "Bash(gh pr diff:*)",
      "Bash(bundle exec ruby:*)",
      "Bash(tree:*)",
      "Bash(git -C /Users/bash/src/picotorokko add lib/reality_marble/lib/reality_marble.rb lib/reality_marble/test/reality_marble/method_lifecycle_test.rb)",
      "Bash(git -C /Users/bash/src/picotorokko commit -m \"$(cat <<''EOF''\nfeat: implement lazy method application pattern\n\nAdd comprehensive method lifecycle management that captures method\ndefinitions during chant block execution, then applies and cleans them\nup during activate. Methods are stored as UnboundMethod objects for\nsafe restoration.\n\n- Add store_defined_methods to capture new method definitions\n- Add apply_defined_methods to restore during activate\n- Add cleanup_defined_methods to remove after activate\n- Add collect_all_methods via ObjectSpace inspection\n- Add diff_methods to compute method differences\n- Modify chant to detect and store method definitions\n- Modify activate to apply and cleanup methods\n\nðŸ¤– Generated with Claude Code\n\nCo-Authored-By: Claude <noreply@anthropic.com>\nEOF\n)\")",
      "Bash(git -C /Users/bash/src/picotorokko add lib/reality_marble/lib/reality_marble/context.rb)",
      "Bash(git -C /Users/bash/src/picotorokko commit -m \"$(cat <<''EOF''\nrefactor: simplify Context without Expectation dependency\n\nRemove all Expectation-related logic from Context. The new native syntax\nAPI manages method lifecycles entirely within the Marble class using the\nlazy method application pattern. Context is now a simple thread-local\nstack manager.\n\nRemoved:\n- backup_and_define_methods_for (Expectation-dependent)\n- define_mock_method (DSL dispatch logic)\n- execute_dispatch (Expectation call dispatch)\n- record_call_in_stack (Expectation-dependent)\n- execute_with_expectation (Expectation call dispatch)\n- find_matching_expectation (Expectation searching)\n- find_expectation_with_block (Expectation searching)\n- restore_all_methods (Expectation-dependent)\n- _backed_up_methods tracking\n\nContext now only:\n- Manages the thread-local marble stack\n- Provides push/pop operations\n- Supports nested activation contexts\n\nðŸ¤– Generated with Claude Code\n\nCo-Authored-By: Claude <noreply@anthropic.com>\nEOF\n)\")"
    ],
    "deny": [],
    "ask": []
  }
}
